{"version":3,"file":"utils-json.js","sourceRoot":"","sources":["../../src/utils/utils-json.ts"],"names":[],"mappings":"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","sourcesContent":["import { JsonColumn, JsonIndex, JsonTrigger, JsonView } from '../interfaces/interfaces';\nimport { UtilsSQLite } from './utils-sqlite';\n\nexport class UtilsJSON {\n\n  static async isJsonSQLite(obj: any): Promise<boolean> {\n    const keyFirstLevel: string[] = [\n      'database',\n      'version',\n      'overwrite',\n      'encrypted',\n      'mode',\n      'tables',\n      'views'\n    ];\n    if (\n      obj == null ||\n      (Object.keys(obj).length === 0 && obj.constructor === Object)\n    )\n      return false;\n    for (const key of Object.keys(obj)) {\n      if (keyFirstLevel.indexOf(key) === -1) return false;\n      if (key === 'database' && typeof obj[key] != 'string') return false;\n      if (key === 'version' && typeof obj[key] != 'number') return false;\n      if (key === 'overwrite' && typeof obj[key] != 'boolean') return false;\n      if (key === 'encrypted' && typeof obj[key] != 'boolean') return false;\n      if (key === 'mode' && typeof obj[key] != 'string') return false;\n      if (key === 'tables' && typeof obj[key] != 'object') return false;\n      if (key === 'tables') {\n        for (const oKey of obj[key]) {\n          const retTable: boolean = await UtilsJSON.isTable(oKey);\n          if (!retTable) return false;\n        }\n      }\n      if (key === 'views' && typeof obj[key] != 'object') return false;\n      if (key === 'views') {\n        for (const oKey of obj[key]) {\n          const retView: boolean = await UtilsJSON.isView(oKey);\n          if (!retView) return false;\n        }\n      }\n\n    }\n    return true;\n  }\n  static async isTable(obj: any): Promise<boolean> {\n    const keyTableLevel: string[] = [\n      'name',\n      'schema',\n      'indexes',\n      'triggers',\n      'values',\n    ];\n    let nbColumn = 0;\n    if (\n      obj == null ||\n      (Object.keys(obj).length === 0 && obj.constructor === Object)\n    )\n      return false;\n    for (const key of Object.keys(obj)) {\n      if (keyTableLevel.indexOf(key) === -1) return false;\n      if (key === 'name' && typeof obj[key] != 'string') return false;\n      if (key === 'schema' && typeof obj[key] != 'object') return false;\n      if (key === 'indexes' && typeof obj[key] != 'object') return false;\n      if (key === 'triggers' && typeof obj[key] != 'object') return false;\n      if (key === 'values' && typeof obj[key] != 'object') return false;\n      if (key === 'schema') {\n        obj['schema'].forEach(\n          (element: {\n            column?: string;\n            value: string;\n            foreignkey?: string;\n            primarykey?: string;\n            constraint?: string;\n          }) => {\n            if (element.column) {\n              nbColumn++;\n            }\n          },\n        );\n        for (let i = 0; i < nbColumn; i++) {\n          const retSchema: boolean = await UtilsJSON.isSchema(obj[key][i]);\n          if (!retSchema) return false;\n        }\n      }\n      if (key === 'indexes') {\n        for (const oKey of obj[key]) {\n          const retIndexes: boolean = await UtilsJSON.isIndexes(oKey);\n          if (!retIndexes) return false;\n        }\n      }\n      if (key === 'triggers') {\n        for (const oKey of obj[key]) {\n          const retTriggers: boolean = await UtilsJSON.isTriggers(oKey);\n          if (!retTriggers) return false;\n        }\n      }\n      if (key === 'values') {\n        if (nbColumn > 0) {\n          for (const oKey of obj[key]) {\n            if (typeof oKey != 'object' || oKey.length != nbColumn)\n              return false;\n          }\n        }\n      }\n    }\n\n    return true;\n  }\n  static async isSchema(obj: any): Promise<boolean> {\n    const keySchemaLevel: string[] = [\n      'column',\n      'value',\n      'foreignkey',\n      'primarykey',\n      'constraint',\n    ];\n    if (\n      obj == null ||\n      (Object.keys(obj).length === 0 && obj.constructor === Object)\n    )\n      return false;\n    for (const key of Object.keys(obj)) {\n      if (keySchemaLevel.indexOf(key) === -1) return false;\n      if (key === 'column' && typeof obj[key] != 'string') return false;\n      if (key === 'value' && typeof obj[key] != 'string') return false;\n      if (key === 'foreignkey' && typeof obj[key] != 'string') return false;\n      if (key === 'primarykey' && typeof obj[key] != 'string') return false;\n      if (key === 'constraint' && typeof obj[key] != 'string') return false;\n    }\n    return true;\n  }\n  static async isIndexes(obj: any): Promise<boolean> {\n    const keyIndexesLevel: string[] = ['name', 'value', 'mode'];\n    if (\n      obj == null ||\n      (Object.keys(obj).length === 0 && obj.constructor === Object)\n    )\n      return false;\n    for (const key of Object.keys(obj)) {\n      if (keyIndexesLevel.indexOf(key) === -1) return false;\n      if (key === 'name' && typeof obj[key] != 'string') return false;\n      if (key === 'value' && typeof obj[key] != 'string') return false;\n      if (\n        key === 'mode' &&\n        (typeof obj[key] != 'string' || obj[key].toUpperCase() != 'UNIQUE')\n      )\n        return false;\n    }\n    return true;\n  }\n  static async isTriggers(obj: any): Promise<boolean> {\n    const keyTriggersLevel: string[] = [\n      'name',\n      'timeevent',\n      'condition',\n      'logic',\n    ];\n    if (\n      obj == null ||\n      (Object.keys(obj).length === 0 && obj.constructor === Object)\n    )\n      return false;\n    for (const key of Object.keys(obj)) {\n      if (keyTriggersLevel.indexOf(key) === -1) return false;\n      if (key === 'name' && typeof obj[key] != 'string') return false;\n      if (key === 'timeevent' && typeof obj[key] != 'string') return false;\n      if (key === 'condition' && typeof obj[key] != 'string') return false;\n      if (key === 'logic' && typeof obj[key] != 'string') return false;\n    }\n    return true;\n  }\n  static async isView(obj: any): Promise<boolean> {\n    const keyViewLevel: string[] = ['name', 'value'];\n    if (\n      obj == null ||\n      (Object.keys(obj).length === 0 && obj.constructor === Object)\n    )\n      return false;\n    for (const key of Object.keys(obj)) {\n      if (keyViewLevel.indexOf(key) === -1) return false;\n      if (key === 'name' && typeof obj[key] != 'string') return false;\n      if (key === 'value' && typeof obj[key] != 'string') return false;\n    }\n    return true;\n  }\n  static async checkSchemaValidity(schema: JsonColumn[]): Promise<void> {\n    for (let i = 0; i < schema.length; i++) {\n      const sch: JsonColumn = {} as JsonColumn;\n      const keys: string[] = Object.keys(schema[i]);\n      if (keys.includes('column')) {\n        sch.column = schema[i].column;\n      }\n      if (keys.includes('value')) {\n        sch.value = schema[i].value;\n      }\n      if (keys.includes('foreignkey')) {\n        sch.foreignkey = schema[i].foreignkey;\n      }\n      if (keys.includes('constraint')) {\n        sch.constraint = schema[i].constraint;\n      }\n      const isValid: boolean = await UtilsJSON.isSchema(sch);\n      if (!isValid) {\n        return Promise.reject(\n          new Error(`CheckSchemaValidity: schema[${i}] not valid`),\n        );\n      }\n    }\n    return Promise.resolve();\n  }\n\n  static async checkIndexesValidity(indexes: JsonIndex[]): Promise<void> {\n    for (let i = 0; i < indexes.length; i++) {\n      const index: JsonIndex = {} as JsonIndex;\n      const keys: string[] = Object.keys(indexes[i]);\n      if (keys.includes('value')) {\n        index.value = indexes[i].value;\n      }\n      if (keys.includes('name')) {\n        index.name = indexes[i].name;\n      }\n      if (keys.includes('mode')) {\n        index.mode = indexes[i].mode;\n      }\n\n      const isValid: boolean = await UtilsJSON.isIndexes(index);\n      if (!isValid) {\n        return Promise.reject(\n          new Error(`CheckIndexesValidity: indexes[${i}] not valid`),\n        );\n      }\n    }\n    return Promise.resolve();\n  }\n  static async checkTriggersValidity(triggers: JsonTrigger[]): Promise<void> {\n    for (let i = 0; i < triggers.length; i++) {\n      const trigger: JsonTrigger = {} as JsonTrigger;\n      const keys: string[] = Object.keys(triggers[i]);\n      if (keys.includes('logic')) {\n        trigger.logic = triggers[i].logic;\n      }\n      if (keys.includes('name')) {\n        trigger.name = triggers[i].name;\n      }\n      if (keys.includes('timeevent')) {\n        trigger.timeevent = triggers[i].timeevent;\n      }\n      if (keys.includes('condition')) {\n        trigger.condition = triggers[i].condition;\n      }\n\n      const isValid: boolean = await UtilsJSON.isTriggers(trigger);\n      if (!isValid) {\n        return Promise.reject(\n          new Error(`CheckTriggersValidity: triggers[${i}] not valid`),\n        );\n      }\n    }\n    return Promise.resolve();\n  }\n  static async checkViewsValidity(views: JsonView[]): Promise<void> {\n    for (let i = 0; i < views.length; i++) {\n      const view: JsonView = {} as JsonView;\n      const keys: string[] = Object.keys(views[i]);\n      if (keys.includes('value')) {\n        view.value = views[i].value;\n      }\n      if (keys.includes('name')) {\n        view.name = views[i].name;\n      }\n\n      const isValid: boolean = await UtilsJSON.isView(view);\n      if (!isValid) {\n        return Promise.reject(\n          new Error(`CheckViewsValidity: views[${i}] not valid`),\n        );\n      }\n    }\n    return Promise.resolve();\n  }\n  static async getTableColumnNamesTypes(db: any, tableName: string): Promise<any> {\n    let resQuery: any[] = [];\n    const retNames: string[] = [];\n    const retTypes: string[] = [];\n    const query = `PRAGMA table_info('${tableName}');`;\n    try {\n      resQuery = await UtilsSQLite.queryAll(db, query, []);\n      if (resQuery.length > 0) {\n        for (const query of resQuery) {\n          retNames.push(query.name);\n          retTypes.push(query.type);\n        }\n      }\n      return Promise.resolve({ names: retNames, types: retTypes });\n    } catch (err) {\n      return Promise.reject(\n        new Error('GetTableColumnNamesTypes: ' + `${err.message}`),\n      );\n    }\n  }\n  static async getValues(db: any, query: string, tableName: string): Promise<any[]> {\n    const values: any[] = [];\n    try {\n      // get table column names and types\n      const tableNamesTypes = await UtilsJSON.getTableColumnNamesTypes(db, tableName);\n      let rowNames: string[] = [];\n      if (Object.keys(tableNamesTypes).includes('names')) {\n        rowNames = tableNamesTypes.names;\n      } else {\n        return Promise.reject(\n          new Error(`GetValues: Table ${tableName} no names`),\n        );\n      }\n      const retValues = await UtilsSQLite.queryAll(db, query, []);\n      for (const rValue of retValues) {\n        const row: any[] = [];\n        for (const rName of rowNames) {\n          if (Object.keys(rValue).includes(rName)) {\n            row.push(rValue[rName]);\n          } else {\n            row.push(null);\n          }\n        }\n        values.push(row);\n      }\n      return Promise.resolve(values);\n    } catch (err) {\n      return Promise.reject(new Error(`GetValues: ${err.message}`));\n    }\n  }\n\n}\n"]}